рЃЊрЃљрЃЋрЃўрЃгрЃДрЃЮрЃЌ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃљ рЃЌрЃљрЃЋрЃўрЃЊрЃљрЃю рЃ»рЃћрЃа рЃарЃЮрЃњрЃЮрЃарЃф рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃА рЃЋрЃћрЃфрЃЊрЃћрЃЉрЃў рЃњрЃљрЃЋрЃћрЃарЃЎрЃЋрЃўрЃЮ рЃЊрЃљрЃбрЃљрЃерЃў.

рЃЎрЃЮрЃџрЃљрЃЉрЃерЃў рЃЋрЃўрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉ рЃарЃЮрЃњрЃЮрЃарЃф рЃЋрЃюрЃљрЃ«рЃћрЃЌ рЃЉрЃћрЃЋрЃарЃљрЃЊ рЃБрЃЎрЃћрЃЌрЃћрЃАрЃўрЃљ рЃЎрЃћрЃњрЃџрЃерЃў рЃЏрЃБрЃерЃљрЃЮрЃЉрЃљрЃќрЃћ.

рЃЏрЃўрЃюрЃЊрЃљ рЃЊрЃљрЃЋрЃљрЃЏрЃљрЃбрЃЮ рЃарЃЮрЃЏ рЃАрЃљрЃюрЃљрЃЏ рЃЊрЃљрЃЋрЃўрЃгрЃДрЃћрЃЉрЃЊрЃў рЃЏрЃљрЃюрЃљрЃЏрЃЊрЃћ рЃарЃљрЃдрЃљрЃф рЃЋрЃўрЃЊрЃћрЃЮрЃћрЃЉрЃў рЃЋрЃюрЃљрЃ«рЃћ time series рЃљрЃџрЃњрЃЮрЃарЃўрЃЌрЃЏрЃћрЃЉрЃќрЃћ рЃЊрЃљ рЃарЃљрЃдрЃљрЃф рЃЏрЃўрЃЊрЃњрЃЮрЃЏрЃћрЃЉрЃў рЃњрЃљрЃЋрЃўрЃљрЃќрЃарЃћ.

рЃ»рЃћрЃа рЃњрЃљрЃюрЃЋрЃўрЃ«рЃўрЃџрЃЮрЃЌ рЃарЃљрЃф рЃгрЃћрЃарЃўрЃљ:
рЃгрЃћрЃарЃўрЃљ рЃарЃЮрЃЏ рЃДрЃБрЃарЃљрЃЊрЃдрЃћрЃЉрЃљ рЃћрЃЦрЃфрЃћрЃЋрЃљ holidays weeks рЃЊрЃљ 5рЃ»рЃћрЃа рЃЏрЃћрЃбрЃљрЃЊ рЃўрЃЌрЃЋрЃџрЃћрЃЉрЃљрЃЮ. рЃљрЃџрЃЉрЃљрЃЌ рЃљрЃЏрЃўрЃбрЃЮ рЃњрЃЋрЃљрЃЦ WMAE.

рЃњрЃЋрЃљрЃЦ stores.csv рЃАрЃљрЃЊрЃљрЃф рЃљрЃарЃўрЃА 45 store-рЃќрЃћ рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃћрЃЉрЃў
 id, Type(A, B, C) , size 

рЃњрЃЋрЃљрЃЦ train.csv  2010-02-05 to 2012-11-01
Store, Department, Date, Weekly_Sales, IsHoliday

рЃЎрЃўрЃЊрЃћрЃЋ test.csv
Store, Department, Date, Weekly_Sales, IsHoliday

рЃЊрЃљ рЃћрЃА рЃњрЃљрЃюрЃАрЃ«рЃЋрЃљрЃЋрЃћрЃЉрЃБрЃџрЃў рЃарЃљрЃЏрЃћрЃљ: features.csv
CPI, unemployment, fuel price, temperature, MarkDown1-5, sparse data.

рЃћрЃАрЃћрЃюрЃў рЃЎрЃўрЃЊрЃћ рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў 5x рЃЊрЃдрЃћрЃћрЃЉрЃў:

Super Bowl: 12-Feb-10, 11-Feb-11, 10-Feb-12, 8-Feb-13
Labor Day: 10-Sep-10, 9-Sep-11, 7-Sep-12, 6-Sep-13
Thanksgiving: 26-Nov-10, 25-Nov-11, 23-Nov-12, 29-Nov-13
Christmas: 31-Dec-10, 30-Dec-11, 28-Dec-12, 27-Dec-13



рЃЎрЃљрЃў рЃљрЃ«рЃџрЃљ рЃБрЃЎрЃЋрЃћ рЃЊрЃљрЃЋрЃўрЃгрЃДрЃЮрЃЌ:

# experiment_1_k.ipynb
рЃљрЃЦ рЃ»рЃћрЃа рЃЊрЃљрЃЋрЃљрЃБрЃюрЃќрЃўрЃърЃћрЃЉ colab-рЃерЃў рЃцрЃљрЃўрЃџрЃћрЃЉрЃА рЃЊрЃљ рЃЋрЃюрЃљрЃ«рЃЮрЃЌ рЃарЃљ рЃарЃЮрЃњрЃЮрЃа рЃњрЃљрЃЏрЃЮрЃўрЃДрЃБрЃарЃћрЃЉрЃљ:

­ЪЊі DATASET OVERVIEW
==================================================
STORES:
  Shape: (45, 3)
  Columns: ['Store', 'Type', 'Size']
  Memory: 0.00 MB

TRAIN:
  Shape: (421570, 5)
  Columns: ['Store', 'Dept', 'Date', 'Weekly_Sales', 'IsHoliday']
  Memory: 36.99 MB

TEST:
  Shape: (115064, 4)
  Columns: ['Store', 'Dept', 'Date', 'IsHoliday']
  Memory: 9.22 MB

FEATURES:
  Shape: (8190, 12)
  Columns: ['Store', 'Date', 'Temperature', 'Fuel_Price', 'MarkDown1', 'MarkDown2', 'MarkDown3', 'MarkDown4', 'MarkDown5', 'CPI', 'Unemployment', 'IsHoliday']
  Memory: 1.16 MB


рЃюрЃБ рЃДрЃЋрЃћрЃџрЃљрЃцрЃћрЃарЃў рЃЕрЃЋрЃћрЃБрЃџрЃћрЃЉрЃарЃўрЃЋрЃў рЃЏрЃљрЃњрЃарЃљрЃЏ features рЃЊрЃљрЃбрЃљрЃАрЃћрЃбрЃў рЃфрЃЮрЃбрЃљ рЃЎрЃЮрЃЏрЃърЃџрЃћрЃЦрЃАрЃБрЃарЃўрЃљ рЃ»рЃћрЃа рЃљрЃа рЃЋрЃўрЃфрЃў рЃарЃЮрЃњрЃЮрЃа рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃЮ рЃЏрЃљрЃарЃљ рЃЋрЃюрЃљрЃ«рЃЮрЃЌ.

рЃњрЃљрЃюрЃЋрЃўрЃ«рЃўрЃџрЃЮрЃЌ рЃфрЃљрЃџ рЃфрЃљрЃџрЃЎрЃћ рЃДрЃЋрЃћрЃџрЃљ рЃЊрЃљрЃбрЃљрЃАрЃћрЃбрЃў:

­ЪЈф STORES DATASET
==============================
Number of stores: 45
Store types: {'A': 22, 'B': 17, 'C': 6}
Size range: 34,875 - 219,622

рЃ«рЃЮ рЃюрЃБ рЃерЃћрЃЊрЃљрЃарЃћрЃЉрЃўрЃЌ рЃфрЃЮрЃЊрЃљ C рЃбрЃўрЃърЃўрЃА рЃњрЃЋрЃљрЃЦ.

рЃАрЃЌрЃЮрЃарЃћрЃЉрЃерЃў рЃћрЃА рЃбрЃўрЃърЃћрЃЉрЃў рЃАрЃўрЃЊрЃћрЃўрЃЊрЃћрЃћрЃЉрЃўрЃА рЃЏрЃўрЃ«рЃћрЃЊрЃЋрЃўрЃЌрЃљрЃљ рЃљрЃюрЃБ рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃЊрЃўрЃЊрЃўрЃљ A рЃЏрЃћрЃарЃћ B рЃЊрЃљ рЃЉрЃЮрЃџрЃЮрЃА C. 

­ЪЊѕ TRAINING DATASET
==============================
Date range: 2010-02-05 00:00:00 to 2012-10-26 00:00:00
Stores: 45
Departments: 81
Total records: 421,570
Holiday weeks: 29,661
Sales range: $-4,988.94 to $693,099.36

421,570 - рЃюрЃљрЃЏрЃЊрЃЋрЃўрЃџрЃљрЃЊ рЃЊрЃўрЃЊрЃў рЃЊрЃљрЃбрЃљрЃАрЃћрЃбрЃўрЃљ.


­Ъњ░ SALES ANALYSIS
=========================
Mean weekly sales: $15,981.26
Median weekly sales: $7,612.03

Holiday vs Non-Holiday Sales:
mean	median	count
IsHoliday			
False	15901.445069	7589.95	391909
True	17035.823187	7947.74	29661




Top 10 departments by average sales:
Weekly_Sales
Dept	
92	75204.870531
95	69824.423080
38	61090.619568
72	50566.515417
65	45441.706224
90	45232.084488
40	44900.702727
2	43607.020113
91	33687.910758
94	33405.883963


рЃарЃЮрЃњрЃЮрЃарЃф рЃЕрЃљрЃюрЃА holiday-рЃА рЃЊрЃарЃЮрЃА 7% рЃўрЃЌ рЃЏрЃћрЃбрЃў sale рЃњрЃЋрЃљрЃЦ.


­ЪїА№ИЈ FEATURES DATASET
==============================
Date range: 2010-02-05 00:00:00 to 2013-07-26 00:00:00
Stores covered: 45
Store	Date	Temperature	Fuel_Price	MarkDown1	MarkDown2	MarkDown3	MarkDown4	MarkDown5	CPI	Unemployment	IsHoliday
0	1	2010-02-05	42.31	2.572	NaN	NaN	NaN	NaN	NaN	211.096358	8.106	False
1	1	2010-02-12	38.51	2.548	NaN	NaN	NaN	NaN	NaN	211.242170	8.106	True
2	1	2010-02-19	39.93	2.514	NaN	NaN	NaN	NaN	NaN	211.289143	8.106	False
3	1	2010-02-26	46.63	2.561	NaN	NaN	NaN	NaN	NaN	211.319643	8.106	False
4	1	2010-03-05	46.50	2.625	NaN	NaN	NaN	NaN	NaN	211.350143	8.106	False



Missing values:
Missing Count	Missing %
MarkDown1	4158	50.769231
MarkDown2	5269	64.334554
MarkDown3	4577	55.885226
MarkDown4	4726	57.704518
MarkDown5	4140	50.549451
CPI	585	7.142857
Unemployment	585	7.142857

рЃљрЃЦ рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџрЃў store-рЃАрЃЌрЃЋрЃўрЃА рЃАрЃ«рЃЋрЃљрЃЊрЃљрЃАрЃ«рЃЋрЃљ рЃњрЃљрЃЏрЃЮрЃДрЃЋрЃљрЃюрЃўрЃџрЃў Feature-рЃЉрЃў рЃњрЃЋрЃљрЃЦ рЃЏрЃљрЃарЃљ рЃљрЃАрЃћрЃЋрЃћ рЃњрЃЋрЃљрЃЦрЃЋрЃА рЃЉрЃћрЃЋрЃарЃў NAN.

рЃ«рЃЮ markdown-рЃерЃў рЃћрЃгрЃћрЃарЃљ рЃарЃЮрЃЏ рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ 2011 -рЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ рЃњрЃЋрЃљрЃЦрЃЮ рЃЊрЃљ рЃљрЃАрЃћрЃЋрЃћ рЃДрЃЋрЃћрЃџрЃљрЃерЃў рЃљрЃарЃљрЃЮ:

­Ъћќ MARKDOWN DATA AVAILABILITY
===================================
MarkDown1: 4,032 records (49.2%)
MarkDown2: 2,921 records (35.7%)
MarkDown3: 3,613 records (44.1%)
MarkDown4: 3,464 records (42.3%)
MarkDown5: 4,050 records (49.5%)

First markdown data: 2011-11-11 00:00:00
As stated: Should be after Nov 2011 РюЊ

рЃњрЃљрЃЋрЃљрЃЎрЃћрЃЌрЃћ рЃцрЃџрЃЮрЃЌрЃћрЃЉрЃў рЃЊрЃљ рЃарЃљрЃАрЃљрЃф рЃЋрЃ«рЃћрЃЊрЃљрЃЋ рЃАрЃћрЃќрЃЮрЃюрЃБрЃарЃЮрЃЉрЃўрЃА рЃърЃљрЃбрЃћрЃарЃюрЃўрЃф рЃўрЃњрЃарЃФрЃюрЃЮрЃЉрЃљ - рЃўрЃљрЃюрЃЋрЃљрЃарЃерЃў рЃърЃўрЃЎрЃерЃўрЃљ рЃЮрЃарЃўрЃЋрЃћ рЃгрЃћрЃџрЃА рЃњрЃљрЃДрЃўрЃЊрЃЋрЃћрЃЉрЃў.

### рЃЎрЃљрЃў рЃЊрЃљрЃЋрЃўрЃгрЃДрЃЮрЃЌ рЃЊрЃљрЃбрЃарЃћрЃўрЃюрЃўрЃюрЃњрЃћрЃЉрЃљ рЃарЃљрЃф рЃљрЃарЃўрЃА рЃбрЃарЃћрЃўрЃюрЃўрЃюрЃњ рЃАрЃћрЃбрЃў рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃўрЃЏрЃљрЃќрЃћ рЃ»рЃћрЃа рЃљрЃа рЃњрЃЋрЃўрЃюрЃЊрЃљ рЃАрЃ«рЃЋрЃљ рЃљрЃарЃљрЃцрЃћрЃарЃў. 
рЃ»рЃћрЃа рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃћрЃЉ xgboost-рЃА.
рЃЌрЃљрЃЋрЃўрЃАрЃЌрЃљрЃЋрЃљрЃЊ рЃЊрЃљрЃЋрЃџрЃЮрЃњрЃљрЃЋ mlflow-рЃќрЃћ. 
рЃ»рЃћрЃа рЃЏрЃљрЃўрЃюрЃбрЃћрЃарЃћрЃАрЃћрЃЉрЃА рЃБрЃЉрЃарЃљрЃџрЃЮрЃЊ рЃБрЃЏрЃљрЃарЃбрЃўрЃЋрЃћрЃАрЃў рЃарЃљ рЃАрЃЦрЃЮрЃарЃА рЃњрЃЋрЃљрЃФрЃџрЃћрЃЋрЃА.

рЃ»рЃћрЃа рЃўрЃюрЃўрЃфрЃўрЃљрЃџрЃўрЃќрЃљрЃфрЃўрЃљ dagshub, рЃЊрЃљ mlflow-рЃќрЃћ. 

https://dagshub.com/konstantine25b/Walmart-Recruiting---Store-Sales-Forecasting.mlflow/

рЃ»рЃћрЃб рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ train.csv-рЃА рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃћрЃЉ.
https://dagshub.com/konstantine25b/Walmart-Recruiting---Store-Sales-Forecasting.mlflow/#/experiments/0?searchFilter=&orderByKey=attributes.start_time&orderByAsc=false&startTime=ALL&lifecycleFilter=Active&modelVersionFilter=All+Runs&datasetsFilter=W10%3D

рЃ«рЃЮ рЃюрЃБ BasicPreprocessor рЃћрЃА рЃБрЃЏрЃљрЃарЃбрЃўрЃЋрЃћрЃАрЃў рЃърЃарЃћрЃърЃарЃЮрЃфрЃћрЃАрЃЮрЃарЃў.

рЃ«рЃЮрЃџрЃЮ рЃарЃљрЃф рЃерЃћрЃћрЃ«рЃћрЃЉрЃљ рЃЊрЃљрЃбрЃљрЃА:
trains рЃњрЃљрЃЋрЃДрЃЮрЃц 3-рЃљрЃЊ train + val +test . 60, 20 , 20
рЃюрЃБ store-рЃћрЃЉрЃўрЃА рЃўрЃюрЃцрЃЮ рЃњрЃЋрЃўрЃюрЃЊрЃљ рЃЌрЃљрЃЋрЃўрЃАрЃЌрЃљрЃЋрЃљрЃЊ рЃБрЃћрЃГрЃЋрЃћрЃџрЃў рЃљрЃЏрЃўрЃбрЃЮ рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃљрЃЏрЃљрЃА рЃЊрЃљрЃЋрЃЏрЃћрЃарЃ»рЃљрЃЋ. рЃЊрЃљ рЃљрЃАрЃћрЃЋрЃћ type_encoder-рЃА рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃћрЃЉ рЃарЃЮрЃЏ рЃарЃўрЃфрЃЋрЃЋрЃћрЃЉрЃўрЃЌ рЃњрЃЋрЃЦрЃЮрЃюрЃЊрЃћрЃА рЃћрЃАрЃћрЃюрЃў 0,1,2

рЃљрЃАрЃћрЃЋрЃћ holiday рЃЌрЃБ рЃљрЃарЃўрЃА 1 рЃЌрЃБ рЃљрЃарЃљ 0.

рЃЎрЃўрЃЊрЃћрЃЋ рЃарЃЮрЃњрЃЮрЃарЃф рЃЋрЃўрЃЊрЃћрЃЮрЃерЃў рЃЋрЃюрЃљрЃ«рЃћ рЃљрЃЦрЃљрЃф рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃЋрЃљрЃю date-рЃўрЃЊрЃљрЃю рЃцрЃўрЃЕрЃћрЃарЃћрЃЉрЃА : Year,Month , Week, DayOfYear

рЃЏрЃўрЃАрЃўрЃюрЃњ рЃЋрЃљрЃџрЃўрЃБрЃћрЃЉрЃерЃў рЃ»рЃћрЃа рЃърЃарЃЮрЃАрЃбрЃљ median (numerical) рЃЊрЃљ mode (categorical) рЃЕрЃљрЃЋрЃљрЃюрЃљрЃфрЃЋрЃџрЃћрЃЉ.

рЃарЃљрЃф рЃерЃћрЃћрЃ«рЃћрЃЉрЃљ рЃбрЃарЃљрЃўрЃюрЃўрЃюрЃњ xgboost: 100 рЃ«рЃћ, 6 рЃЏрЃљрЃЦрЃАрЃўрЃЏрЃљрЃџрЃБрЃарЃў рЃАрЃўрЃдрЃарЃЏрЃћ, 0.1 rate. 

рЃюрЃБ рЃерЃћрЃАрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃџрЃљрЃЊ WMAE.
рЃљрЃЏрЃўрЃАрЃЌрЃЋрЃўрЃА рЃњрЃљрЃЋрЃљрЃЎрЃћрЃЌрЃћ рЃЏрЃљрЃњрЃўрЃАрЃў рЃЎрЃџрЃљрЃАрЃў.
https://dagshub.com/konstantine25b/Walmart-Recruiting---Store-Sales-Forecasting.mlflow/#/experiments/0/runs/0f1276d7c85f426cb849c646a6d72ab5

­ЪЊі FINAL WMAE RESULTS:
   Competition Metric (WMAE): $4,110.79
   Regular MAE: $3,966.39
   Holiday weeks MAE: $4,619.24
   Normal weeks MAE: $3,916.50


рЃюрЃБ рЃћрЃА рЃљрЃарЃўрЃА score , рЃџрЃўрЃЊрЃћрЃарЃЉрЃЮрЃарЃЊрЃћрЃЉрЃерЃў рЃАрЃљрЃБрЃЎрЃћрЃЌрЃћрЃАрЃЮ рЃерЃћрЃЊрЃћрЃњрЃў 2300 -рЃўрЃљ. 

рЃЕрЃЋрЃћрЃю рЃЎрЃўрЃЊрЃћ 4,110. 

рЃЎрЃљрЃў рЃюрЃБ рЃ»рЃћрЃа рЃћрЃА рЃўрЃДрЃЮрЃА рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃърЃўрЃарЃЋрЃћрЃџрЃў рЃћрЃЦрЃАрЃърЃћрЃарЃўрЃЏрЃћрЃюрЃбрЃўрЃАрЃЌрЃЋрЃўрЃА.

рЃЊрЃљрЃЋрЃцрЃБрЃерЃћ github-рЃќрЃћ рЃЏрЃљрЃарЃљ рЃарЃљрЃдрЃљрЃф рЃЋрЃўрЃ»рЃћрЃбрЃћрЃЉрЃў рЃљрЃа рЃЏрЃЮрЃАрЃгрЃЮрЃюрЃА рЃЊрЃљ рЃљрЃа рЃљрЃюрЃљрЃ«рЃћрЃЉрЃА рЃљрЃЏрЃўрЃбрЃЮ рЃЌрЃБ рЃюрЃЮрЃЌрЃЉрЃБрЃЦрЃерЃў рЃЕрЃљрЃ«рЃћрЃЊрЃЋрЃљ рЃњрЃўрЃюрЃЊрЃљрЃЌ рЃЊрЃљрЃцрЃБрЃџрЃЋрЃљ рЃЏрЃЮрЃњрЃўрЃгрЃћрЃЋрЃЌ.
рЃљрЃЊрЃарЃћ рЃЋрЃюрЃљрЃ«рЃћ рЃЏрЃАрЃњрЃљрЃЋрЃАрЃў рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃљ рЃЏрЃљрЃњрЃарЃљрЃЏ рЃљрЃЦ рЃюрЃћрЃўрЃарЃЮрЃюрЃБрЃџрЃў рЃЦрЃАрЃћрЃџрЃўрЃАрЃюрЃљрЃўрЃарЃљрЃЊ рЃћрЃърЃЮрЃЦрЃћрЃЉрЃўрЃА рЃљрЃЋрЃАрЃћрЃЉрЃљ рЃљрЃа рЃљрЃарЃўрЃА рЃЊрЃљ рЃљрЃарЃф рЃљрЃгрЃўрЃЌрЃџрЃћрЃЉрЃА рЃџрЃЮрЃЎрЃљрЃџрЃБрЃарЃљрЃЊ рЃЊрЃљ рЃЋрЃћрЃа рЃЋрЃ«рЃЋрЃЊрЃћрЃЉрЃў рЃћрЃ«рЃљ рЃарЃљрЃбрЃЮ рЃљрЃЦ рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃљ.

# experiment_2_future_engineering_k.ipynb

рЃЎрЃљрЃў, рЃарЃљрЃЊрЃњрЃљрЃю рЃЋрЃюрЃљрЃ«рЃћ рЃќрЃЮрЃњрЃљрЃЊрЃљрЃЊ рЃЕрЃЋрЃћрЃБрЃџрЃћрЃЉрЃарЃўрЃЋрЃў рЃЏрЃљрЃарЃбрЃўрЃЋрЃў рЃбрЃарЃљрЃўрЃюрЃўрЃюрЃњрЃўрЃЌ рЃАрЃЦрЃЮрЃарЃў, рЃљрЃ«рЃџрЃљ рЃЊрЃљрЃЋрЃўрЃгрЃДрЃЮрЃЌ рЃюрЃћрЃџ рЃюрЃћрЃџрЃљ рЃърЃарЃћрЃърЃарЃЮрЃфрЃћрЃАрЃўрЃюрЃњрЃў рЃљрЃЏрЃўрЃбрЃЮрЃЏ рЃерЃћрЃЋрЃЦрЃћрЃюрЃў рЃљрЃ«рЃљрЃџрЃў рЃцрЃљрЃўрЃџрЃў рЃАрЃљрЃЊрЃљрЃф рЃЊрЃљрЃЋрЃљрЃЎрЃЋрЃўрЃарЃЊрЃћрЃЉрЃў рЃЊрЃљрЃЌрЃљрЃА рЃЊрЃљ рЃЋрЃфрЃЊрЃў рЃАрЃ«рЃЋрЃљрЃЊрЃљрЃАрЃ«рЃЋрЃљ рЃЏрЃўрЃЊрЃњрЃЮрЃЏрЃћрЃЉрЃА рЃърЃарЃћрЃърЃарЃЮрЃфрЃћрЃАрЃўрЃюрЃњрЃўрЃАрЃЌрЃўрЃА.

https://dagshub.com/konstantine25b/Walmart-Recruiting---Store-Sales-Forecasting.mlflow/#/experiments/1

рЃљрЃЦрЃљрЃф рЃЕрЃЋрЃћрЃБрЃџрЃћрЃЉрЃарЃўрЃЋрЃљрЃЊ рЃўрЃюрЃўрЃфрЃўрЃљрЃџрЃўрЃќрЃљрЃфрЃўрЃљ рЃњрЃљрЃЋрЃБрЃЎрЃћрЃЌрЃћ mlflow-рЃќрЃћ
 рЃ»рЃћрЃа рЃЊрЃљрЃЋрЃЏрЃћрЃарЃ»рЃћ рЃДрЃЋрЃћрЃџрЃљ рЃЊрЃљрЃбрЃљрЃАрЃћрЃбрЃў рЃћрЃарЃЌрЃЏрЃљрЃюрЃћрЃЌрЃЌрЃљрЃю.
рЃюрЃБ рЃЊрЃБрЃърЃџрЃўрЃЎрЃљрЃбрЃў рЃАрЃЋрЃћрЃбрЃў рЃљрЃдрЃЏрЃЮрЃњрЃЋрЃўрЃЕрЃюрЃЊрЃљ isholiday -рЃ»рЃћрЃа рЃћрЃњ рЃЏрЃЮрЃЋрЃљрЃерЃЮрЃарЃћ. 

рЃ»рЃћрЃа рЃЊрЃљрЃЋрЃљрЃЏрЃљрЃбрЃћ рЃЏрЃљрЃарЃбрЃўрЃЋрЃў рЃцрЃўрЃЕрЃћрЃарЃћрЃЉрЃў:
year, month, day, dayOfweek,weekofyear,quarter, IsWeekend,IsMonthStart,IsMonthEnd,IsQuarterStart,IsQuarterEnd

рЃерЃћрЃЏрЃЊрЃћрЃњ:

DaysFromStart, WeeksFromStart -рЃћрЃАрЃћрЃюрЃў рЃарЃЮрЃњрЃЮрЃарЃф рЃњрЃљрЃЋрЃљрЃарЃЎрЃЋрЃўрЃћ рЃЎрЃљрЃўрЃљрЃЮ linear trend-рЃўрЃА рЃЊрЃљрЃАрЃљрЃГрЃћрЃарЃљрЃЊрЃЮ.

['Store', 'Dept', 'Date', 'Weekly_Sales', 'Type', 'Size', 'Temperature', 'Fuel_Price', 'MarkDown1', 'MarkDown2', 'MarkDown3', 'MarkDown4', 'MarkDown5', 'CPI', 'Unemployment', 'IsHoliday', 'Year', 'Month', 'Day', 'DayOfWeek', 'WeekOfYear', 'Quarter', 'IsWeekend', 'IsMonthStart', 'IsMonthEnd', 'IsQuarterStart', 'IsQuarterEnd', 'DaysFromStart', 'WeeksFromStart']

рЃћрЃАрЃћрЃюрЃў рЃљрЃарЃўрЃА рЃЕрЃЋрЃћрЃюрЃў рЃАрЃЋрЃћрЃбрЃћрЃЉрЃў рЃљрЃ«рЃџрЃљ.
рЃљрЃ«рЃџрЃљ рЃњрЃЋрЃўрЃюрЃЊрЃљ рЃарЃЮрЃЏ nan -рЃћрЃЉрЃў рЃЊрЃљрЃЋрЃцрЃўрЃЦрЃАрЃЮрЃЌ рЃЊрЃљ рЃљрЃАрЃћрЃЋрЃћ рЃљрЃБрЃЌрЃџрЃљрЃўрЃћрЃарЃћрЃЉрЃА рЃЏрЃўрЃЋрЃћрЃЊрЃЮрЃЌ.

рЃ»рЃћрЃа рЃљрЃЏрЃўрЃАрЃЌрЃЋрЃўрЃА рЃЋрЃюрЃљрЃ«рЃЮрЃЌ рЃарЃЮрЃњрЃЮрЃа рЃњрЃљрЃЏрЃЮрЃўрЃДрЃБрЃарЃћрЃЉрЃљ рЃЊрЃљрЃбрЃљ.

рЃюрЃБ рЃарЃЮрЃњрЃЮрЃарЃф рЃЋрЃюрЃљрЃ«рЃћ nan рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ markdown-рЃћрЃЉрЃерЃў рЃњрЃЋрЃљрЃЦ рЃарЃљрЃЊрЃњрЃљрЃю 2011-рЃўрЃЊрЃљрЃю рЃњрЃЋрЃљрЃЦ рЃЏрЃљрЃюрЃЊ рЃЊрЃљрЃбрЃљ рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃљрЃЏрЃўрЃбрЃЮ рЃЏрЃљрЃюрЃЊ 
рЃарЃљрЃдрЃљрЃф рЃБрЃюрЃЊрЃљ рЃЏрЃЮрЃЋрЃБрЃцрЃўрЃЦрЃарЃЮ.

рЃЎрЃљрЃў рЃюрЃБ рЃ»рЃћрЃа рЃерЃћрЃЋрЃ«рЃћрЃЊрЃЮрЃЌ рЃЊрЃљ рЃњрЃЋрЃљрЃЦ рЃљрЃАрЃћрЃЌрЃў рЃарЃљрЃЏрЃћ:
MarkDown2	MarkDown2	310322	73.611025	float64
MarkDown4	MarkDown4	286603	67.984676	float64
MarkDown3	MarkDown3	284479	67.480845	float64
MarkDown1	MarkDown1	270889	64.257181	float64
MarkDown5	MarkDown5	270138	64.079038	float64

рЃљрЃЦ рЃЉрЃћрЃарЃЋрЃў nan рЃњрЃЋрЃљрЃЦ.

рЃњрЃЋрЃљрЃЦ рЃюрЃћрЃњрЃљрЃбрЃўрЃБрЃарЃў рЃАрЃћрЃўрЃџрЃћрЃЉрЃў рЃљрЃюрЃБ рЃгрЃљрЃњрЃћрЃЉрЃљрЃерЃў рЃарЃЮ рЃЏрЃўрЃ«рЃўрЃА рЃћрЃњ:
Negative sales range: $-4,988.94 to $-0.02

72 -рЃћ рЃЊрЃћрЃърЃљрЃарЃбрЃљрЃЏрЃћрЃюрЃбрЃе рЃњрЃЋрЃљрЃЦ рЃФрЃљрЃџрЃўрЃљрЃю рЃЏрЃљрЃдрЃљрЃџрЃў рЃАрЃћрЃўрЃџрЃћрЃЉрЃў, рЃЏрЃљрЃњрЃарЃљрЃЏ рЃњрЃљрЃЋрЃўрЃЌрЃЋрЃљрЃџрЃўрЃАрЃгрЃўрЃюрЃЮрЃЌ рЃарЃЮрЃЏ рЃћрЃарЃЌ рЃћрЃарЃЌ рЃ░рЃЮрЃџрЃўрЃЊрЃћрЃўрЃќрЃћ рЃ«рЃЊрЃћрЃЉрЃљ рЃћрЃњ рЃљрЃЏрЃўрЃбрЃЮрЃЏ рЃљрЃБрЃЌрЃџрЃљрЃўрЃћрЃарЃћрЃЉрЃерЃў рЃЋрЃћрЃа рЃњрЃљрЃЋрЃўрЃДрЃЋрЃљрЃюрЃЌ рЃЏрЃљрЃњрЃљрЃА. рЃюрЃБ рЃЌрЃљрЃю рЃњрЃљрЃЋрЃўрЃЌрЃЋрЃљрЃџрЃўрЃАрЃгрЃўрЃюрЃЮрЃЌ рЃарЃЮрЃЏ рЃАрЃ«рЃЋрЃљрЃЊрЃљрЃАрЃ«рЃЋрЃљ рЃбрЃўрЃърЃўрЃА рЃАрЃбрЃЮрЃарЃћрЃЉрЃерЃў рЃАрЃ«рЃЋрЃљрЃЊрЃљрЃАрЃ«рЃЋрЃљрЃљ рЃАрЃљрЃерЃБрЃљрЃџрЃЮ рЃАрЃћрЃўрЃџрЃћрЃЉрЃўрЃА рЃЊрЃЮрЃюрЃћ.

рЃљрЃЏрЃўрЃбрЃЮрЃЏ рЃљрЃАрЃћ рЃЋрЃцрЃўрЃЦрЃарЃЮрЃЉ рЃарЃЮрЃЏ рЃЌрЃБ рЃ░рЃЮрЃџрЃўрЃЊрЃћрЃў рЃљрЃарЃљрЃљ рЃЊрЃљ рЃЏрЃљрЃўрЃюрЃф рЃљрЃБрЃЌрЃџрЃљрЃўрЃћрЃарЃўрЃљ рЃЏрЃљрЃерЃўрЃю рЃЏрЃЮрЃЋрЃљрЃерЃЮрЃарЃЮрЃЌ.

рЃДрЃЋрЃћрЃџрЃљрЃАрЃЌрЃЋрЃўрЃА рЃљрЃюрЃБ рЃДрЃЋрЃћрЃџрЃљ рЃАрЃЌрЃЮрЃарЃўрЃАрЃЌрЃЋрЃўрЃА рЃЋрЃЦрЃюрЃљрЃЌ рЃљрЃАрЃћрЃЌрЃў рЃарЃљрЃЏ рЃарЃЮ рЃЌрЃБ рЃФрЃљрЃљрЃљрЃю рЃЊрЃўрЃЊрЃўрЃљ рЃљрЃю рЃФрЃљрЃљрЃю рЃърЃљрЃбрЃљрЃарЃљ рЃЏрЃЮрЃЋрЃљрЃерЃЮрЃарЃЮрЃЌ. 
рЃљрЃЏрЃўрЃАрЃЌрЃЋрЃўрЃА рЃ»рЃћрЃа рЃЏрЃЮрЃЊрЃў рЃЋрЃўрЃърЃЮрЃЋрЃЮрЃЌ рЃбрЃарЃћрЃерЃ░рЃЮрЃџрЃЊрЃћрЃЉрЃў.
рЃЊрЃљ рЃЏрЃћрЃарЃћ рЃЏрЃЮрЃЋрЃљрЃерЃЮрЃарЃЮрЃЌ.

­ЪЊі CALCULATING ACTUAL THRESHOLDS BY STORE TYPE
============================================================
(Using train_with_dates - the actual dataset we have)

­ЪЈф STORE TYPE A
Sample size: 215,478 records
----------------------------------------
 80.0th percentile: $ 32,521.16 | 43,096 records above (20.00%)
 85.0th percentile: $ 40,311.11 | 32,322 records above (15.00%)
 90.0th percentile: $ 53,172.67 | 21,548 records above (10.00%)
 95.0th percentile: $ 74,285.73 | 10,774 records above (5.00%)
 97.5th percentile: $ 94,116.95 |  5,387 records above (2.50%)
 99.0th percentile: $126,175.36 |  2,155 records above (1.00%)
 99.5th percentile: $149,165.60 |  1,078 records above (0.50%)
 99.9th percentile: $184,007.45 |    216 records above (0.10%)

­ЪЊЁ Holiday vs Normal Sales for Store Type A:
Normal Sales   - Max: $356,867.25 | 99.5th: $148,205.09
Holiday Sales  - Max: $474,330.10 | 99.5th: $168,918.87

­ЪЈф STORE TYPE B
Sample size: 163,495 records
----------------------------------------
 80.0th percentile: $ 19,089.04 | 32,699 records above (20.00%)
 85.0th percentile: $ 24,038.83 | 24,525 records above (15.00%)
 90.0th percentile: $ 32,101.40 | 16,350 records above (10.00%)
 95.0th percentile: $ 46,279.64 |  8,175 records above (5.00%)
 97.5th percentile: $ 58,587.54 |  4,088 records above (2.50%)
 99.0th percentile: $ 77,292.35 |  1,635 records above (1.00%)
 99.5th percentile: $ 93,515.75 |    818 records above (0.50%)
 99.9th percentile: $129,147.93 |    164 records above (0.10%)

­ЪЊЁ Holiday vs Normal Sales for Store Type B:
Normal Sales   - Max: $406,988.63 | 99.5th: $ 92,397.70
Holiday Sales  - Max: $693,099.36 | 99.5th: $113,205.04

­ЪЈф STORE TYPE C
Sample size: 42,597 records
----------------------------------------
 80.0th percentile: $ 16,314.79 |  8,520 records above (20.00%)
 85.0th percentile: $ 20,140.12 |  6,390 records above (15.00%)
 90.0th percentile: $ 31,192.28 |  4,260 records above (10.00%)
 95.0th percentile: $ 46,833.02 |  2,130 records above (5.00%)
 97.5th percentile: $ 59,351.24 |  1,065 records above (2.50%)
 99.0th percentile: $ 72,103.37 |    426 records above (1.00%)
 99.5th percentile: $ 81,200.31 |    213 records above (0.50%)
 99.9th percentile: $ 95,654.76 |     43 records above (0.10%)

­ЪЊЁ Holiday vs Normal Sales for Store Type C:
Normal Sales   - Max: $112,152.35 | 99.5th: $ 80,865.55
Holiday Sales  - Max: $110,379.12 | 99.5th: $ 88,838.55



рЃ«рЃЮрЃЮрЃЮ рЃАрЃљрЃўрЃюрЃбрЃћрЃарЃћрЃАрЃЮрЃЊ рЃњрЃљрЃЏрЃЮрЃўрЃДрЃБрЃарЃћрЃЉрЃљ рЃћрЃА рЃбрЃарЃћрЃерЃ░рЃЮрЃџрЃЊрЃћрЃЉрЃўрЃА рЃњрЃљрЃбрЃћрЃАрЃбрЃЋрЃўрЃЌ рЃљрЃЏрЃўрЃбрЃЮрЃЏ рЃарЃЮрЃњрЃЮрЃарЃф рЃерЃћрЃЋрЃ«рЃћрЃЊрЃЮрЃЌ рЃАрЃ«рЃЋрЃљрЃЊрЃљрЃАрЃ«рЃЋрЃљ рЃбрЃўрЃърЃўрЃА рЃАрЃбрЃЮрЃарЃерЃў рЃАрЃ«рЃЋрЃљрЃЊрЃљрЃАрЃ«рЃЋрЃљ рЃњрЃЋрЃўрЃюрЃЊрЃљ.

рЃерЃћрЃАрЃљрЃЉрЃљрЃЏрЃўрЃАрЃљрЃЊ рЃљрЃЋрЃўрЃдрЃћрЃЉ рЃарЃћрЃЎрЃЮрЃЏрЃћрЃюрЃЊрЃўрЃарЃћрЃЉрЃБрЃџ рЃЌрЃарЃћрЃерЃ░рЃЮрЃџрЃЊрЃћрЃЉрЃА рЃЊрЃљ рЃњрЃљрЃЋрЃцрЃўрЃџрЃбрЃарЃљрЃЋ рЃЊрЃљрЃбрЃљрЃА.
­ЪЊі BEFORE outlier removal: 421,570 records

­ЪЈф Store Type A:
   Normal day outliers:  206 records
   Holiday outliers:     0 records
   Total outliers:       206 records (0.10%)

­ЪЈф Store Type B:
   Normal day outliers:  118 records
   Holiday outliers:     0 records
   Total outliers:       118 records (0.07%)

­ЪЈф Store Type C:
   Normal day outliers:  15 records
   Holiday outliers:     0 records
   Total outliers:       15 records (0.04%)

­ЪЊі AFTER outlier removal: 421,231 records
­ЪЌЉ№ИЈ Outliers removed: 339 records (0.08%)


рЃљрЃ«рЃџрЃљ рЃБрЃЎрЃЋрЃћ рЃерЃћрЃњрЃЋрЃўрЃФрЃџрЃўрЃљ nan-рЃћрЃЉрЃА рЃЏрЃўрЃЋрЃ«рЃћрЃЊрЃЮрЃЌ рЃЏрЃљрЃарЃљ
рЃарЃљрЃ«рЃљрЃю рЃћрЃ«рЃљ рЃЎрЃљрЃў рЃЉрЃћрЃЋрЃарЃў рЃЊрЃљрЃбрЃљ рЃњрЃЋрЃљрЃЦ рЃЏрЃЮрЃЊрЃў рЃ»рЃћрЃа рЃАрЃљрЃћрЃарЃЌрЃЮрЃЊ рЃЏрЃЮрЃЋрЃљрЃерЃЮрЃарЃЮрЃЌ markdown-рЃћрЃЉрЃў рЃЊрЃљ nan-рЃћрЃЉрЃў рЃљрЃдрЃљрЃа рЃњрЃЋрЃћрЃЦрЃюрЃћрЃЉрЃљ рЃЊрЃљ рЃћрЃАрЃћ рЃерЃћрЃЋрЃ«рЃћрЃЊрЃЮрЃЌ рЃЊрЃљ рЃњрЃљрЃЋрЃбрЃћрЃАрЃбрЃЮрЃЌ.

рЃћрЃА рЃўрЃЏрЃўрЃбрЃЮрЃЏ рЃарЃЮ 60% missing рЃЊрЃљрЃбрЃљрЃљ рЃЊрЃљ рЃЏрЃўрЃАрЃў рЃерЃћрЃЋрЃАрЃћрЃЉрЃљ рЃЎрЃљрЃў рЃАрЃљрЃЕрЃљрЃџрЃўрЃЕрЃЮ рЃўрЃЦрЃюрЃћрЃЉрЃљ рЃЊрЃљ рЃЏрЃЮрЃЊрЃў рЃ»рЃћрЃа рЃљрЃа рЃњрЃЋрЃўрЃюрЃЊрЃљ.

Data columns (total 24 columns):
 #   Column          Non-Null Count   Dtype         
---  ------          --------------   -----         
 0   Store           421231 non-null  int64         
 1   Dept            421231 non-null  int64         
 2   Date            421231 non-null  datetime64[ns]
 3   Weekly_Sales    421231 non-null  float64       
 4   Type            421231 non-null  object        
 5   Size            421231 non-null  int64         
 6   Temperature     421231 non-null  float64       
 7   Fuel_Price      421231 non-null  float64       
 8   CPI             421231 non-null  float64       
 9   Unemployment    421231 non-null  float64       
 10  IsHoliday       421231 non-null  bool          
 11  Year            421231 non-null  int32         
 12  Month           421231 non-null  int32         
 13  Day             421231 non-null  int32         
 14  DayOfWeek       421231 non-null  int32         
 15  WeekOfYear      421231 non-null  UInt32        
 16  Quarter         421231 non-null  int32         
 17  IsWeekend       421231 non-null  int64         
 18  IsMonthStart    421231 non-null  int64         
 19  IsMonthEnd      421231 non-null  int64         
 20  IsQuarterStart  421231 non-null  int64         
 21  IsQuarterEnd    421231 non-null  int64         
 22  DaysFromStart   421231 non-null  int64         
 23  WeeksFromStart  421231 non-null  int64  

 рЃЎрЃљрЃў 24 column рЃњрЃЋрЃљрЃЦ рЃЏрЃћрЃЏрЃњрЃЮрЃюрЃў рЃЎрЃљрЃўрЃљ рЃ»рЃћрЃа.

 рЃЎрЃљрЃў рЃћрЃ«рЃљ рЃЎрЃљрЃбрЃћрЃњрЃЮрЃарЃўрЃБрЃџрЃћрЃЉрЃА рЃЏрЃўрЃЋрЃ«рЃћрЃЊрЃЮрЃЌ рЃЊрЃљ рЃЏрЃљрЃдрЃљрЃџрЃў рЃЎрЃЮрЃарЃћрЃџрЃљрЃфрЃўрЃўрЃА рЃЏрЃЦрЃЮрЃюрЃћрЃћрЃЉрЃў рЃЏрЃЮрЃЋрЃљрЃерЃЮрЃарЃЮрЃЌ.

 1№ИЈРЃБ CATEGORICAL VARIABLES:
   Categorical columns: ['Type']
   Store Type distribution: {'A': 215272, 'B': 163377, 'C': 42582}

2№ИЈРЃБ NUMERICAL VARIABLES SCALING:
   Store       : Range [    1.00,    45.00] | Mean:    22.21 | Std:    12.79
   Dept        : Range [    1.00,    99.00] | Mean:    44.24 | Std:    30.48
   Size        : Range [34875.00, 219622.00] | Mean: 136706.14 | Std: 60979.97
   Temperature : Range [   -2.06,   100.14] | Mean:    60.10 | Std:    18.45
   Fuel_Price  : Range [    2.47,     4.47] | Mean:     3.36 | Std:     0.46
   CPI         : Range [  126.06,   227.23] | Mean:   171.21 | Std:    39.16
   Unemployment: Range [    3.88,    14.31] | Mean:     7.96 | Std:     1.86

3№ИЈРЃБ HIGH CORRELATION CHECK:
   High correlations found (>0.8):
   - Year Рєћ DaysFromStart: 0.942
   - Year Рєћ WeeksFromStart: 0.942
   - Month Рєћ WeekOfYear: 0.996
   - Month Рєћ Quarter: 0.967
   - WeekOfYear Рєћ Quarter: 0.964
   - IsMonthStart Рєћ IsQuarterStart: 0.863
   - DaysFromStart Рєћ WeeksFromStart: 1.000


рЃюрЃБ рЃљрЃЏрЃЮрЃЋрЃўрЃдрЃЮрЃЌ рЃЏрЃљрЃдрЃљрЃџрЃў рЃЎрЃЮрЃарЃћрЃџрЃљрЃфрЃўрЃўрЃА рЃЏрЃЦрЃЮрЃюрЃћрЃћрЃЉрЃў: 
DaysFromStart, WeekOfYear, Quarter, Year,
Day, IsQuarterStart, IsQuarterEnd

REMAINING FEATURES (17 total) 
рЃљрЃ«рЃџрЃљ рЃЎрЃљрЃбрЃћрЃњрЃЮрЃарЃўрЃБрЃџрЃўрЃф рЃЊрЃљрЃЋрЃљрЃЏрЃљрЃбрЃЮрЃЌ рЃЊрЃљ рЃћрЃњрЃљрЃљ.One-Hot Encoding рЃарЃљрЃЊрЃњрЃљрЃю 3 рЃфрЃљрЃџрЃў рЃњрЃЋрЃљрЃЦ A, b,c.

  A Рєњ 0 (215,272 records)
   B Рєњ 1 (163,377 records)
   C Рєњ 2 (42,582 records)

   New columns: ['Store', 'Dept', 'Date', 'Weekly_Sales', 'Size', 'Temperature', 'Fuel_Price', 'CPI', 'Unemployment', 'IsHoliday', 'Month', 'DayOfWeek', 'IsWeekend', 'IsMonthStart', 'IsMonthEnd', 'WeeksFromStart', 'Type_A', 'Type_B', 'Type_C']

   19 рЃЦрЃЮрЃџрЃБрЃЏрЃў рЃњрЃЋрЃљрЃЦ рЃћрЃ«рЃљ.

### рЃЎрЃљрЃў рЃљрЃ«рЃџрЃљ рЃњрЃљрЃЊрЃљрЃЋрЃћрЃЊрЃўрЃЌ рЃЊрЃљрЃбрЃўрЃА рЃњрЃљрЃДрЃЮрЃцрЃљрЃќрЃћ.

рЃарЃљрЃЊрЃњрЃљрЃю time series рЃљрЃарЃўрЃА рЃљрЃЦ рЃБрЃцрЃарЃЮ рЃЎрЃЮрЃЏрЃърЃџрЃћрЃЦрЃАрЃБрЃарЃљрЃЊ рЃ«рЃЊрЃћрЃЉрЃљ рЃДрЃЋрЃћрЃџрЃљрЃцрЃћрЃарЃў.
рЃљрЃЏрЃўрЃбрЃЮрЃЏ рЃЊрЃљрЃбрЃўрЃА рЃњрЃљрЃДрЃЮрЃцрЃљрЃф рЃарЃЌрЃБрЃџрЃўрЃљ рЃерЃћрЃЊрЃљрЃарЃћрЃЉрЃўрЃЌ.
рЃћрЃАрЃћ рЃърЃўрЃарЃЊрЃљрЃърЃўрЃа 80/10/10, рЃњрЃљрЃДрЃЮрЃцрЃљ рЃљрЃарЃљрЃАрЃгрЃЮрЃарЃўрЃљ рЃарЃљрЃЊрЃњрЃљрЃю рЃЦрЃарЃЮрЃюрЃЮрЃџрЃЮрЃњрЃўрЃљрЃА рЃљрЃЦрЃЋрЃА рЃЏрЃюрЃўрЃерЃЋрЃюрЃћрЃџрЃЮрЃЉрЃљ.

рЃЏрЃЮрЃЎрЃџрЃћрЃЊ рЃћрЃА рЃЎрЃљрЃў рЃЎрЃЮрЃЏрЃърЃџрЃћрЃЦрЃАрЃБрЃарЃўрЃљ рЃљрЃЏрЃўрЃбрЃЮрЃЏ рЃЊрЃћрЃърЃљрЃарЃбрЃљрЃЏрЃћрЃюрЃбрЃћрЃЉрЃўрЃА рЃЏрЃўрЃ«рЃћрЃЊрЃЋрЃўрЃЌ рЃњрЃљрЃЋрЃАрЃърЃџрЃўрЃбрЃљрЃЋ рЃЊрЃљрЃбрЃљрЃА рЃЊрЃљ рЃЌрЃўрЃЌрЃЮрЃерЃў рЃЎрЃЋрЃўрЃарЃћрЃЉрЃўрЃА рЃЏрЃўрЃ«рЃћрЃЊрЃЋрЃўрЃЌ рЃЏрЃЮрЃЋрЃБрЃДрЃарЃў рЃЌрЃљрЃЋрЃА рЃљрЃАрЃћрЃЌрЃў рЃърЃарЃўрЃюрЃфрЃўрЃърЃўрЃЌ:

ALL Store-Dept combinations:
Train: [Week1 Рєњ Week114]  (80% of weeks)
Val:   [Week115 Рєњ Week128] (10% of weeks)  
Test:  [Week129 Рєњ Week143] (10% of weeks)

рЃљрЃЦ рЃљрЃЏрЃўрЃЌрЃў рЃерЃћрЃЋрЃўрЃюрЃљрЃ«рЃљрЃЋрЃЌ рЃЦрЃарЃЮрЃюрЃЮрЃџрЃЮрЃњрЃўрЃљрЃА.
DATE CUTOFFS:
   Train: 2010-02-05 00:00:00 to 2012-04-06 00:00:00
   Val:   2012-04-13 00:00:00 to 2012-07-13 00:00:00
   Test:  2012-07-20 00:00:00 to 2012-10-26 00:00:00

рЃбрЃарЃћрЃўрЃюрЃўрЃюрЃњрЃўрЃАрЃЌрЃЋрЃўрЃА рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ train рЃЊрЃљ val.

рЃЏрЃљрЃњрЃарЃљрЃЏ рЃбрЃћрЃАрЃбрЃўрЃАрЃЌрЃЋрЃўрЃА рЃБрЃцрЃарЃЮ рЃЎрЃЮрЃЏрЃърЃџрЃћрЃЦрЃАрЃБрЃарЃў рЃўрЃАрЃљрЃљ рЃарЃЮ рЃћрЃњрЃарЃћрЃЋрЃћ test-рЃќрЃћ рЃЌрЃБ рЃњрЃљрЃЋрЃбрЃћрЃАрЃбрЃћрЃЌ рЃЊрЃљрЃбрЃљ рЃџрЃўрЃЦрЃўрЃ»рЃў рЃњрЃЋрЃћрЃЦрЃюрЃћрЃЉрЃљ рЃЊрЃљ рЃљрЃЏрЃўрЃБрЃбрЃЮрЃЏ рЃњрЃЋрЃўрЃюрЃЊрЃљ рЃарЃЮрЃЏ train+ val рЃЊрЃљ test рЃњрЃЋрЃЦрЃЮрЃюрЃЊрЃћрЃА.

рЃЎрЃљрЃў рЃћрЃ«рЃљ рЃбрЃарЃћрЃўрЃюрЃўрЃюрЃњрЃўрЃАрЃЌрЃЋрЃўрЃА рЃљрЃЋрЃўрЃдрЃЮрЃЌ xgboost рЃўрЃАрЃћрЃЋрЃћ рЃЊрЃљ рЃћрЃАрЃћ  n_estimators=200,           # More trees
            max_depth=8,                # Deeper trees  
            learning_rate=0.05,         # Lower learning rate
            subsample=0.8,


IMPROVED RESULTS:
   Train: MAE=$2,946.87 | RMSE=$5,377.46 | WMAE=$3,107.74
   Val:   MAE=$3,943.09 | RMSE=$6,816.74 | WMAE=$3,943.09
 
рЃЎрЃљрЃў рЃюрЃБ рЃБрЃЎрЃћрЃЌрЃћрЃАрЃў рЃерЃћрЃЊрЃћрЃњрЃў рЃњрЃЋрЃљрЃЦ рЃбрЃарЃћрЃўрЃюрЃўрЃюрЃњрЃўрЃАрЃљрЃА рЃЋрЃўрЃЊрЃарЃћ рЃърЃўрЃарЃЋрЃћрЃџ рЃћрЃЦрЃАрЃърЃћрЃарЃўрЃЏрЃћрЃюрЃбрЃерЃў., рЃљрЃ«рЃџрЃљ рЃърЃўрЃарЃЊрЃљрЃърЃўрЃа рЃбрЃћрЃАрЃбрЃўрЃюрЃњрЃў рЃЋрЃюрЃљрЃ«рЃЮрЃЌ рЃљрЃюрЃБ train + val рЃЊрЃљ test.

TOP 10 FEATURES (Improved Model):
    1. Dept           : 0.3925
    2. Type_Encoded   : 0.1816
    3. Size           : 0.1381
    4. IsHoliday      : 0.0686
    5. Store          : 0.0634
    6. Month          : 0.0496
    7. CPI            : 0.0274
    8. IsMonthEnd     : 0.0261
    9. Unemployment   : 0.0220
   10. WeeksFromStart : 0.0163



рЃљрЃ«рЃџрЃљ рЃўрЃњрЃўрЃЋрЃћ рЃюрЃљрЃўрЃарЃљрЃЊ рЃЏрЃЮрЃњрЃЋрЃўрЃгрЃћрЃЋрЃА рЃЊрЃљрЃбрЃарЃћрЃўрЃюрЃўрЃюрЃњрЃћрЃЉрЃљ рЃЊрЃљ рЃЏрЃћрЃарЃћ рЃбрЃћрЃАрЃбрЃАрЃћрЃбрЃДрЃќрЃћ рЃњрЃљрЃерЃЋрЃћрЃЉрЃљ, рЃюрЃБ рЃљрЃЏрЃўрЃА рЃЏрЃўрЃќрЃћрЃќрЃў рЃљрЃарЃўрЃА рЃўрЃА рЃарЃЮрЃЏ рЃЊрЃљрЃбрЃљ рЃџрЃўрЃЦрЃўрЃ»рЃў рЃњрЃЋрЃљрЃЦ рЃЊрЃљ рЃљрЃа рЃњрЃЋрЃўрЃюрЃЊрЃљ рЃћрЃњ. 

 Original Train: 335,453 records
   Original Val:   41,378 records
   Combined Train: 376,831 records
   Test Set:       44,400 records

FINAL TESTING RESULTS:
   Training (Train+Val): MAE=$2,896.51 | RMSE=$5,242.54 | WMAE=$3,045.81
   Testing  (Test only): MAE=$2,968.85 | RMSE=$4,959.53 | WMAE=$3,049.17

TOP 10 MOST IMPORTANT FEATURES:
    1. Dept           : 0.4108
    2. Type_Encoded   : 0.1807
    3. Size           : 0.1415
    4. Store          : 0.0657
    5. IsHoliday      : 0.0630
    6. Month          : 0.0455
    7. CPI            : 0.0269
    8. Unemployment   : 0.0210
    9. IsMonthEnd     : 0.0187
   10. WeeksFromStart : 0.0124

рЃюрЃБ рЃЉрЃћрЃЋрЃарЃљрЃЊ рЃњрЃљрЃБрЃЏрЃ»рЃЮрЃЉрЃћрЃАрЃЊрЃљ рЃЊрЃљрЃЪрЃћ рЃЋрЃўрЃЊрЃарЃћ рЃбрЃарЃћрЃўрЃюрЃўрЃюрЃњрЃерЃў рЃўрЃДрЃЮ рЃљрЃџрЃЉрЃљрЃЌ рЃўрЃЏрЃўрЃбрЃЮрЃЏ рЃарЃЮрЃЏ рЃБрЃцрЃарЃЮ рЃЏрЃћрЃбрЃў рЃЊрЃљрЃбрЃљ рЃњрЃЋрЃљрЃЦ, рЃЦрЃарЃЮрЃюрЃЮрЃџрЃЮрЃњрЃўрЃБрЃарЃљрЃЊрЃљрЃф рЃБрЃЎрЃћрЃЌрЃћрЃАрЃўрЃљ.

рЃљрЃАрЃћрЃЋрЃћ рЃљрЃЦ рЃарЃЮрЃњрЃЮрЃарЃф рЃЋрЃБрЃДрЃБрЃарЃћрЃЉ рЃФрЃљрЃџрЃўрЃљрЃю рЃЎрЃљрЃарЃњрЃў рЃ»рЃћрЃюрЃћрЃарЃљрЃџрЃўрЃќрЃљрЃфрЃўрЃљ рЃњрЃЋрЃљрЃЦ. 

Training (Train+Val): MAE=$2,896.51
Testing  (Test only): MAE=$2,968.85
рЃљрЃАрЃћрЃЋрЃћ рЃЉрЃћрЃЋрЃарЃљрЃЊ рЃБрЃЎрЃћрЃЌрЃАрЃћрЃў рЃерЃћрЃЊрЃћрЃњрЃў рЃњрЃЋрЃљрЃЦ рЃЋрЃўрЃЊрЃарЃћ рЃърЃўрЃарЃЋрЃћрЃџ рЃћрЃЦрЃАрЃърЃћрЃарЃЏрЃўрЃћрЃюрЃбрЃерЃў.

Experiment 1 Test WMAE: $4,163.80
Final Test WMAE:        $3,049.17

рЃЕрЃћрЃЏрЃў рЃљрЃќрЃарЃўрЃЌ рЃЎрЃљрЃарЃњрЃўрЃљ рЃ»рЃћрЃа рЃ»рЃћрЃарЃЮрЃЉрЃўрЃЌ рЃЎрЃљрЃў рЃерЃћрЃЊрЃћрЃњрЃўрЃљ.

рЃюрЃБ рЃљрЃЦрЃљрЃф рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃљ рЃўрЃАрЃљрЃљ рЃарЃЮ рЃњрЃўрЃЌрЃ░рЃБрЃЉрЃќрЃћ рЃљрЃа рЃљрЃЕрЃЋрЃћрЃюрЃћрЃЉрЃА рЃЌрЃЮрЃарЃћ рЃўрЃАрЃћ рЃарЃЮ рЃЊрЃљрЃцрЃБрЃџрЃЮ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃА рЃЊрЃљ рЃњрЃљрЃюрЃљрЃ«рЃћрЃЉрЃА notebook-рЃА.
