рЃЊрЃљрЃЋрЃўрЃгрЃДрЃЮрЃЌ рЃЏрЃБрЃерЃљрЃЮрЃЉрЃљ рЃЌрЃљрЃЋрЃўрЃЊрЃљрЃю рЃ»рЃћрЃа рЃарЃЮрЃњрЃЮрЃарЃф рЃДрЃЮрЃЋрЃћрЃџрЃЌрЃЋрЃўрЃА рЃЋрЃћрЃфрЃЊрЃћрЃЉрЃў рЃњрЃљрЃЋрЃћрЃарЃЎрЃЋрЃўрЃЮ рЃЊрЃљрЃбрЃљрЃерЃў.

рЃЎрЃЮрЃџрЃљрЃЉрЃерЃў рЃЋрЃўрЃЏрЃБрЃерЃљрЃЋрЃћрЃЉ рЃарЃЮрЃњрЃЮрЃарЃф рЃЋрЃюрЃљрЃ«рЃћрЃЌ рЃЉрЃћрЃЋрЃарЃљрЃЊ рЃБрЃЎрЃћрЃЌрЃћрЃАрЃўрЃљ рЃЎрЃћрЃњрЃџрЃерЃў рЃЏрЃБрЃерЃљрЃЮрЃЉрЃљрЃќрЃћ.

рЃЏрЃўрЃюрЃЊрЃљ рЃЊрЃљрЃЋрЃљрЃЏрЃљрЃбрЃЮ рЃарЃЮрЃЏ рЃАрЃљрЃюрЃљрЃЏ рЃЊрЃљрЃЋрЃўрЃгрЃДрЃћрЃЉрЃЊрЃў рЃЏрЃљрЃюрЃљрЃЏрЃЊрЃћ рЃарЃљрЃдрЃљрЃф рЃЋрЃўрЃЊрЃћрЃЮрЃћрЃЉрЃў рЃЋрЃюрЃљрЃ«рЃћ time series рЃљрЃџрЃњрЃЮрЃарЃўрЃЌрЃЏрЃћрЃЉрЃќрЃћ рЃЊрЃљ рЃарЃљрЃдрЃљрЃф рЃЏрЃўрЃЊрЃњрЃЮрЃЏрЃћрЃЉрЃў рЃњрЃљрЃЋрЃўрЃљрЃќрЃарЃћ.

рЃ»рЃћрЃа рЃњрЃљрЃюрЃЋрЃўрЃ«рЃўрЃџрЃЮрЃЌ рЃарЃљрЃф рЃгрЃћрЃарЃўрЃљ:
рЃгрЃћрЃарЃўрЃљ рЃарЃЮрЃЏ рЃДрЃБрЃарЃљрЃЊрЃдрЃћрЃЉрЃљ рЃћрЃЦрЃфрЃћрЃЋрЃљ holidays weeks рЃЊрЃљ 5рЃ»рЃћрЃа рЃЏрЃћрЃбрЃљрЃЊ рЃўрЃЌрЃЋрЃџрЃћрЃЉрЃљрЃЮ. рЃљрЃџрЃЉрЃљрЃЌ рЃљрЃЏрЃўрЃбрЃЮ рЃњрЃЋрЃљрЃЦ WMAE.

рЃњрЃЋрЃљрЃЦ stores.csv рЃАрЃљрЃЊрЃљрЃф рЃљрЃарЃўрЃА 45 store-рЃќрЃћ рЃўрЃюрЃцрЃЮрЃарЃЏрЃљрЃфрЃўрЃћрЃЉрЃў
 id, Type(A, B, C) , size 

рЃњрЃЋрЃљрЃЦ train.csv  2010-02-05 to 2012-11-01
Store, Department, Date, Weekly_Sales, IsHoliday

рЃЎрЃўрЃЊрЃћрЃЋ test.csv
Store, Department, Date, Weekly_Sales, IsHoliday

рЃЊрЃљ рЃћрЃА рЃњрЃљрЃюрЃАрЃ«рЃЋрЃљрЃЋрЃћрЃЉрЃБрЃџрЃў рЃарЃљрЃЏрЃћрЃљ: features.csv
CPI, unemployment, fuel price, temperature, MarkDown1-5, sparse data.

рЃћрЃАрЃћрЃюрЃў рЃЎрЃўрЃЊрЃћ рЃЏрЃЌрЃљрЃЋрЃљрЃарЃў 5x рЃЊрЃдрЃћрЃћрЃЉрЃў:

Super Bowl: 12-Feb-10, 11-Feb-11, 10-Feb-12, 8-Feb-13
Labor Day: 10-Sep-10, 9-Sep-11, 7-Sep-12, 6-Sep-13
Thanksgiving: 26-Nov-10, 25-Nov-11, 23-Nov-12, 29-Nov-13
Christmas: 31-Dec-10, 30-Dec-11, 28-Dec-12, 27-Dec-13



рЃЎрЃљрЃў рЃљрЃ«рЃџрЃљ рЃБрЃЎрЃЋрЃћ рЃЊрЃљрЃЋрЃўрЃгрЃДрЃЮрЃЌ:

# experiment_1_k.ipynb
рЃљрЃЦ рЃ»рЃћрЃа рЃЊрЃљрЃЋрЃљрЃБрЃюрЃќрЃўрЃърЃћрЃЉ colab-рЃерЃў рЃцрЃљрЃўрЃџрЃћрЃЉрЃА рЃЊрЃљ рЃЋрЃюрЃљрЃ«рЃЮрЃЌ рЃарЃљ рЃарЃЮрЃњрЃЮрЃа рЃњрЃљрЃЏрЃЮрЃўрЃДрЃБрЃарЃћрЃЉрЃљ:

­ЪЊі DATASET OVERVIEW
==================================================
STORES:
  Shape: (45, 3)
  Columns: ['Store', 'Type', 'Size']
  Memory: 0.00 MB

TRAIN:
  Shape: (421570, 5)
  Columns: ['Store', 'Dept', 'Date', 'Weekly_Sales', 'IsHoliday']
  Memory: 36.99 MB

TEST:
  Shape: (115064, 4)
  Columns: ['Store', 'Dept', 'Date', 'IsHoliday']
  Memory: 9.22 MB

FEATURES:
  Shape: (8190, 12)
  Columns: ['Store', 'Date', 'Temperature', 'Fuel_Price', 'MarkDown1', 'MarkDown2', 'MarkDown3', 'MarkDown4', 'MarkDown5', 'CPI', 'Unemployment', 'IsHoliday']
  Memory: 1.16 MB


рЃюрЃБ рЃДрЃЋрЃћрЃџрЃљрЃцрЃћрЃарЃў рЃЕрЃЋрЃћрЃБрЃџрЃћрЃЉрЃарЃўрЃЋрЃў рЃЏрЃљрЃњрЃарЃљрЃЏ features рЃЊрЃљрЃбрЃљрЃАрЃћрЃбрЃў рЃфрЃЮрЃбрЃљ рЃЎрЃЮрЃЏрЃърЃџрЃћрЃЦрЃАрЃБрЃарЃўрЃљ рЃ»рЃћрЃа рЃљрЃа рЃЋрЃўрЃфрЃў рЃарЃЮрЃњрЃЮрЃа рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃЮ рЃЏрЃљрЃарЃљ рЃЋрЃюрЃљрЃ«рЃЮрЃЌ.

рЃњрЃљрЃюрЃЋрЃўрЃ«рЃўрЃџрЃЮрЃЌ рЃфрЃљрЃџ рЃфрЃљрЃџрЃЎрЃћ рЃДрЃЋрЃћрЃџрЃљ рЃЊрЃљрЃбрЃљрЃАрЃћрЃбрЃў:

­ЪЈф STORES DATASET
==============================
Number of stores: 45
Store types: {'A': 22, 'B': 17, 'C': 6}
Size range: 34,875 - 219,622

рЃ«рЃЮ рЃюрЃБ рЃерЃћрЃЊрЃљрЃарЃћрЃЉрЃўрЃЌ рЃфрЃЮрЃЊрЃљ C рЃбрЃўрЃърЃўрЃА рЃњрЃЋрЃљрЃЦ.

рЃАрЃЌрЃЮрЃарЃћрЃЉрЃерЃў рЃћрЃА рЃбрЃўрЃърЃћрЃЉрЃў рЃАрЃўрЃЊрЃћрЃўрЃЊрЃћрЃћрЃЉрЃўрЃА рЃЏрЃўрЃ«рЃћрЃЊрЃЋрЃўрЃЌрЃљрЃљ рЃљрЃюрЃБ рЃДрЃЋрЃћрЃџрЃљрЃќрЃћ рЃЊрЃўрЃЊрЃўрЃљ A рЃЏрЃћрЃарЃћ B рЃЊрЃљ рЃЉрЃЮрЃџрЃЮрЃА C. 

­ЪЊѕ TRAINING DATASET
==============================
Date range: 2010-02-05 00:00:00 to 2012-10-26 00:00:00
Stores: 45
Departments: 81
Total records: 421,570
Holiday weeks: 29,661
Sales range: $-4,988.94 to $693,099.36

421,570 - рЃюрЃљрЃЏрЃЊрЃЋрЃўрЃџрЃљрЃЊ рЃЊрЃўрЃЊрЃў рЃЊрЃљрЃбрЃљрЃАрЃћрЃбрЃўрЃљ.


­Ъњ░ SALES ANALYSIS
=========================
Mean weekly sales: $15,981.26
Median weekly sales: $7,612.03

Holiday vs Non-Holiday Sales:
mean	median	count
IsHoliday			
False	15901.445069	7589.95	391909
True	17035.823187	7947.74	29661




Top 10 departments by average sales:
Weekly_Sales
Dept	
92	75204.870531
95	69824.423080
38	61090.619568
72	50566.515417
65	45441.706224
90	45232.084488
40	44900.702727
2	43607.020113
91	33687.910758
94	33405.883963


рЃарЃЮрЃњрЃЮрЃарЃф рЃЕрЃљрЃюрЃА holiday-рЃА рЃЊрЃарЃЮрЃА 7% рЃўрЃЌ рЃЏрЃћрЃбрЃў sale рЃњрЃЋрЃљрЃЦ.


­ЪїА№ИЈ FEATURES DATASET
==============================
Date range: 2010-02-05 00:00:00 to 2013-07-26 00:00:00
Stores covered: 45
Store	Date	Temperature	Fuel_Price	MarkDown1	MarkDown2	MarkDown3	MarkDown4	MarkDown5	CPI	Unemployment	IsHoliday
0	1	2010-02-05	42.31	2.572	NaN	NaN	NaN	NaN	NaN	211.096358	8.106	False
1	1	2010-02-12	38.51	2.548	NaN	NaN	NaN	NaN	NaN	211.242170	8.106	True
2	1	2010-02-19	39.93	2.514	NaN	NaN	NaN	NaN	NaN	211.289143	8.106	False
3	1	2010-02-26	46.63	2.561	NaN	NaN	NaN	NaN	NaN	211.319643	8.106	False
4	1	2010-03-05	46.50	2.625	NaN	NaN	NaN	NaN	NaN	211.350143	8.106	False



Missing values:
Missing Count	Missing %
MarkDown1	4158	50.769231
MarkDown2	5269	64.334554
MarkDown3	4577	55.885226
MarkDown4	4726	57.704518
MarkDown5	4140	50.549451
CPI	585	7.142857
Unemployment	585	7.142857

рЃљрЃЦ рЃЌрЃўрЃЌрЃЮрЃћрЃБрЃџрЃў store-рЃАрЃЌрЃЋрЃўрЃА рЃАрЃ«рЃЋрЃљрЃЊрЃљрЃАрЃ«рЃЋрЃљ рЃњрЃљрЃЏрЃЮрЃДрЃЋрЃљрЃюрЃўрЃџрЃў Feature-рЃЉрЃў рЃњрЃЋрЃљрЃЦ рЃЏрЃљрЃарЃљ рЃљрЃАрЃћрЃЋрЃћ рЃњрЃЋрЃљрЃЦрЃЋрЃА рЃЉрЃћрЃЋрЃарЃў NAN.

рЃ«рЃЮ markdown-рЃерЃў рЃћрЃгрЃћрЃарЃљ рЃарЃЮрЃЏ рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ 2011 -рЃўрЃА рЃерЃћрЃЏрЃЊрЃћрЃњ рЃњрЃЋрЃљрЃЦрЃЮ рЃЊрЃљ рЃљрЃАрЃћрЃЋрЃћ рЃДрЃЋрЃћрЃџрЃљрЃерЃў рЃљрЃарЃљрЃЮ:

­Ъћќ MARKDOWN DATA AVAILABILITY
===================================
MarkDown1: 4,032 records (49.2%)
MarkDown2: 2,921 records (35.7%)
MarkDown3: 3,613 records (44.1%)
MarkDown4: 3,464 records (42.3%)
MarkDown5: 4,050 records (49.5%)

First markdown data: 2011-11-11 00:00:00
As stated: Should be after Nov 2011 РюЊ

рЃњрЃљрЃЋрЃљрЃЎрЃћрЃЌрЃћ рЃцрЃџрЃЮрЃЌрЃћрЃЉрЃў рЃЊрЃљ рЃарЃљрЃАрЃљрЃф рЃЋрЃ«рЃћрЃЊрЃљрЃЋ рЃАрЃћрЃќрЃЮрЃюрЃБрЃарЃЮрЃЉрЃўрЃА рЃърЃљрЃбрЃћрЃарЃюрЃўрЃф рЃўрЃњрЃарЃФрЃюрЃЮрЃЉрЃљ - рЃўрЃљрЃюрЃЋрЃљрЃарЃерЃў рЃърЃўрЃЎрЃерЃўрЃљ рЃЮрЃарЃўрЃЋрЃћ рЃгрЃћрЃџрЃА рЃњрЃљрЃДрЃўрЃЊрЃЋрЃћрЃЉрЃў.

### рЃЎрЃљрЃў рЃЊрЃљрЃЋрЃўрЃгрЃДрЃЮрЃЌ рЃЊрЃљрЃбрЃарЃћрЃўрЃюрЃўрЃюрЃњрЃћрЃЉрЃљ рЃарЃљрЃф рЃљрЃарЃўрЃА рЃбрЃарЃћрЃўрЃюрЃўрЃюрЃњ рЃАрЃћрЃбрЃў рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃўрЃЏрЃљрЃќрЃћ рЃ»рЃћрЃа рЃљрЃа рЃњрЃЋрЃўрЃюрЃЊрЃљ рЃАрЃ«рЃЋрЃљ рЃљрЃарЃљрЃцрЃћрЃарЃў. 
рЃ»рЃћрЃа рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃћрЃЉ xgboost-рЃА.
рЃЌрЃљрЃЋрЃўрЃАрЃЌрЃљрЃЋрЃљрЃЊ рЃЊрЃљрЃЋрЃџрЃЮрЃњрЃљрЃЋ mlflow-рЃќрЃћ. 
рЃ»рЃћрЃа рЃЏрЃљрЃўрЃюрЃбрЃћрЃарЃћрЃАрЃћрЃЉрЃА рЃБрЃЉрЃарЃљрЃџрЃЮрЃЊ рЃБрЃЏрЃљрЃарЃбрЃўрЃЋрЃћрЃАрЃў рЃарЃљ рЃАрЃЦрЃЮрЃарЃА рЃњрЃЋрЃљрЃФрЃџрЃћрЃЋрЃА.

рЃ»рЃћрЃа рЃўрЃюрЃўрЃфрЃўрЃљрЃџрЃўрЃќрЃљрЃфрЃўрЃљ dagshub, рЃЊрЃљ mlflow-рЃќрЃћ. 

https://dagshub.com/konstantine25b/Walmart-Recruiting---Store-Sales-Forecasting.mlflow/

рЃ»рЃћрЃб рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ train.csv-рЃА рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃћрЃЉ.
https://dagshub.com/konstantine25b/Walmart-Recruiting---Store-Sales-Forecasting.mlflow/#/experiments/0?searchFilter=&orderByKey=attributes.start_time&orderByAsc=false&startTime=ALL&lifecycleFilter=Active&modelVersionFilter=All+Runs&datasetsFilter=W10%3D

рЃ«рЃЮ рЃюрЃБ BasicPreprocessor рЃћрЃА рЃБрЃЏрЃљрЃарЃбрЃўрЃЋрЃћрЃАрЃў рЃърЃарЃћрЃърЃарЃЮрЃфрЃћрЃАрЃЮрЃарЃў.

рЃ«рЃЮрЃџрЃЮ рЃарЃљрЃф рЃерЃћрЃћрЃ«рЃћрЃЉрЃљ рЃЊрЃљрЃбрЃљрЃА:
trains рЃњрЃљрЃЋрЃДрЃЮрЃц 3-рЃљрЃЊ train + val +test . 60, 20 , 20
рЃюрЃБ store-рЃћрЃЉрЃўрЃА рЃўрЃюрЃцрЃЮ рЃњрЃЋрЃўрЃюрЃЊрЃљ рЃЌрЃљрЃЋрЃўрЃАрЃЌрЃљрЃЋрЃљрЃЊ рЃБрЃћрЃГрЃЋрЃћрЃџрЃў рЃљрЃЏрЃўрЃбрЃЮ рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃљрЃЏрЃљрЃА рЃЊрЃљрЃЋрЃЏрЃћрЃарЃ»рЃљрЃЋ. рЃЊрЃљ рЃљрЃАрЃћрЃЋрЃћ type_encoder-рЃА рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃћрЃюрЃћрЃЉ рЃарЃЮрЃЏ рЃарЃўрЃфрЃЋрЃЋрЃћрЃЉрЃўрЃЌ рЃњрЃЋрЃЦрЃЮрЃюрЃЊрЃћрЃА рЃћрЃАрЃћрЃюрЃў 0,1,2

рЃљрЃАрЃћрЃЋрЃћ holiday рЃЌрЃБ рЃљрЃарЃўрЃА 1 рЃЌрЃБ рЃљрЃарЃљ 0.

рЃЎрЃўрЃЊрЃћрЃЋ рЃарЃЮрЃњрЃЮрЃарЃф рЃЋрЃўрЃЊрЃћрЃЮрЃерЃў рЃЋрЃюрЃљрЃ«рЃћ рЃљрЃЦрЃљрЃф рЃњрЃљрЃЏрЃЮрЃЋрЃўрЃДрЃЋрЃљрЃю date-рЃўрЃЊрЃљрЃю рЃцрЃўрЃЕрЃћрЃарЃћрЃЉрЃА : Year,Month , Week, DayOfYear

рЃЏрЃўрЃАрЃўрЃюрЃњ рЃЋрЃљрЃџрЃўрЃБрЃћрЃЉрЃерЃў рЃ»рЃћрЃа рЃърЃарЃЮрЃАрЃбрЃљ median (numerical) рЃЊрЃљ mode (categorical) рЃЕрЃљрЃЋрЃљрЃюрЃљрЃфрЃЋрЃџрЃћрЃЉ.

рЃарЃљрЃф рЃерЃћрЃћрЃ«рЃћрЃЉрЃљ рЃбрЃарЃљрЃўрЃюрЃўрЃюрЃњ xgboost: 100 рЃ«рЃћ, 6 рЃЏрЃљрЃЦрЃАрЃўрЃЏрЃљрЃџрЃБрЃарЃў рЃАрЃўрЃдрЃарЃЏрЃћ, 0.1 rate. 

рЃюрЃБ рЃерЃћрЃАрЃљрЃЏрЃЮрЃгрЃЏрЃћрЃЉрЃџрЃљрЃЊ WMAE.
рЃљрЃЏрЃўрЃАрЃЌрЃЋрЃўрЃА рЃњрЃљрЃЋрЃљрЃЎрЃћрЃЌрЃћ рЃЏрЃљрЃњрЃўрЃАрЃў рЃЎрЃџрЃљрЃАрЃў.
https://dagshub.com/konstantine25b/Walmart-Recruiting---Store-Sales-Forecasting.mlflow/#/experiments/0/runs/0f1276d7c85f426cb849c646a6d72ab5

­ЪЊі FINAL WMAE RESULTS:
   Competition Metric (WMAE): $4,110.79
   Regular MAE: $3,966.39
   Holiday weeks MAE: $4,619.24
   Normal weeks MAE: $3,916.50


рЃюрЃБ рЃћрЃА рЃљрЃарЃўрЃА score , рЃџрЃўрЃЊрЃћрЃарЃЉрЃЮрЃарЃЊрЃћрЃЉрЃерЃў рЃАрЃљрЃБрЃЎрЃћрЃЌрЃћрЃАрЃЮ рЃерЃћрЃЊрЃћрЃњрЃў 2300 -рЃўрЃљ. 

рЃЕрЃЋрЃћрЃю рЃЎрЃўрЃЊрЃћ 4,110. 

рЃЎрЃљрЃў рЃюрЃБ рЃ»рЃћрЃа рЃћрЃА рЃўрЃДрЃЮрЃА рЃЏрЃ«рЃЮрЃџрЃЮрЃЊ рЃърЃўрЃарЃЋрЃћрЃџрЃў рЃћрЃЦрЃАрЃърЃћрЃарЃўрЃЏрЃћрЃюрЃбрЃўрЃАрЃЌрЃЋрЃўрЃА.

рЃЊрЃљрЃЋрЃцрЃБрЃерЃћ github-рЃќрЃћ рЃЏрЃљрЃарЃљ рЃарЃљрЃдрЃљрЃф рЃЋрЃўрЃ»рЃћрЃбрЃћрЃЉрЃў рЃљрЃа рЃЏрЃЮрЃАрЃгрЃЮрЃюрЃА рЃЊрЃљ рЃљрЃа рЃљрЃюрЃљрЃ«рЃћрЃЉрЃА рЃљрЃЏрЃўрЃбрЃЮ рЃЌрЃБ рЃюрЃЮрЃЌрЃЉрЃБрЃЦрЃерЃў рЃЕрЃљрЃ«рЃћрЃЊрЃЋрЃљ рЃњрЃўрЃюрЃЊрЃљрЃЌ рЃЊрЃљрЃцрЃБрЃџрЃЋрЃљ рЃЏрЃЮрЃњрЃўрЃгрЃћрЃЋрЃЌ.
рЃљрЃЊрЃарЃћ рЃЋрЃюрЃљрЃ«рЃћ рЃЏрЃАрЃњрЃљрЃЋрЃАрЃў рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃљ рЃЏрЃљрЃњрЃарЃљрЃЏ рЃљрЃЦ рЃюрЃћрЃўрЃарЃЮрЃюрЃБрЃџрЃў рЃЦрЃАрЃћрЃџрЃўрЃАрЃюрЃљрЃўрЃарЃљрЃЊ рЃћрЃърЃЮрЃЦрЃћрЃЉрЃўрЃА рЃљрЃЋрЃАрЃћрЃЉрЃљ рЃљрЃа рЃљрЃарЃўрЃА рЃЊрЃљ рЃљрЃарЃф рЃљрЃгрЃўрЃЌрЃџрЃћрЃЉрЃА рЃџрЃЮрЃЎрЃљрЃџрЃБрЃарЃљрЃЊ рЃЊрЃљ рЃЋрЃћрЃа рЃЋрЃ«рЃЋрЃЊрЃћрЃЉрЃў рЃћрЃ«рЃљ рЃарЃљрЃбрЃЮ рЃљрЃЦ рЃърЃарЃЮрЃЉрЃџрЃћрЃЏрЃљ.

# experiment_2_future_engineering_k.ipynb